<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <% include!("./header.stpl"); %>
 
  <script>
    <% include!("./main.js"); %>
  </script>

  <style>
    @font-face {
      font-family: 'Orbitron';
      font-style: monospace;
      font-weight: 400;
      font-display: swap;
      src: url('/static/Orbitron.woff2') format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
    * {
      font-family: 'Orbitron', monospace;
    }

    :root {
      --dot-pink: #E6007A;
      --rank-glow: #fff;
      --dot-cyan: #00B2FF;
    }

    a, a:hover, a:visited, a:link, a:active {
      text-decoration: none;
      color: var(--dot-cyan);
    }
    .astext {
      background: none;
      border: none;
      margin: 0;
      padding: 0;
      cursor: pointer;
    }
  </style>

  </head>
  <body class="container">
  
  <div class="container">
    <div class="row justify-content-end p-2">
      <div class="col-4 d-flex justify-content-center" style="padding-top: 0.6em; padding-bottom: 0.6em;">
        <a href="https://github.com/ggwpez/fellowship-compliance#inofficial-fellowship-compliance-board" target="_blank">
          THE FELLOWSHIP COMPLIANCE BOARD
        </a>
      </div>
      <div class="col-4 d-flex justify-content-end" style="padding-right: 0px">
        <!-- Source link -->
        <button class="astext" id="switch" class="astext checked">ðŸ’¡</button>
      </div>
    </div>
  </div>
  
  <hr style="margin-bottom: 0.75em; margin-top: 0em;">

  <table id="myTable" class="display nowrap" style="width:100%" width="100%">
    <thead>
      <tr>
        <th>Name</th>
        <th>Verified</th>
        <th>Github</th>
        <th>Verified</th>
        <th>Account</th>
        <th>Rank</th>
      </tr>
    </thead>
    <tbody>
    <% for member in members.members.values() { %>
      <tr>
        <!-- NAME -->
        <td data-order='<%- member.name().is_some() %>'>
          <%= member.name().unwrap_or("?".into()) %>
        </td>
        
        <!-- NAME VERIFIED -->
        <td data-order='<%- member.verified() %>'>
          <%- if member.verified() { "<div style='color: #008000; text-shadow: #008000 0px 0 10px;';>YES</div>" } else { "<div style='color: #FF5733; text-shadow: #FF5733 0 0 10px;';>NO</div>" }%>
        </td>
        
        <!-- GITHUB -->
        <td data-order='<%- member.github().is_some() %>'>
          <% if let Some(github) = member.github() { %>
            <a target='_blank' href='https://github.com/<%- github %>'><%= github %></a>
          <% } else { %>
            ?
          <% } %>
        </td>

        <!-- GITHUB VERIFIED -->
        <td data-order='<%- member.github_verified() %>'>
          <%- if member.github_verified() { "<div style='color: #008000; text-shadow: #008000 0px 0 10px;';>YES</div>" } else { "<div style='color: #FF5733; text-shadow: #FF5733 0 0 10px;';>NO</div>" }%>
        </td>
        
        <!-- ACCOUNT -->
        <td>
          <a target='_blank' href='https://collectives.subsquare.io/user/<%- member.address() %>'><%= format!("{}..", &member.address()[..16]) %></a>
        </td>

        <!-- RANK -->
        <td data-order='<%- member.rank %>'>
          <div style='text-shadow: var(--rank-glow) 0px 0 <%- member.rank %>px;'><%= member.rank %></div>
        </td>
      </tr>
    <% } %>
    </tbody>
  </table>
</body>
</html>
